<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SpaceTravelHub</title>

<link rel="stylesheet" href="style.css" />

<style>
body {
  font-family: Orbitron, sans-serif;
  background: black;
  color: white;
}
header {
  padding: 20px;
  text-align: center;
}
.mission-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
  gap: 15px;
  padding: 20px;
}
.card {
  background: rgba(0, 255, 255, 0.1);
  border: 1px solid cyan;
  padding: 15px;
  border-radius: 10px;
  transition: .2s;
  cursor: pointer;
}
.card:hover {
  background: rgba(0,255,255,0.2);
  transform: scale(1.02);
}
img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 8px;
}
.btn {
  padding: 10px 15px;
  border: 1px solid cyan;
  color: cyan;
  text-decoration: none;
  display: inline-block;
  margin: 10px;
}
</style>

</head>
<body>

<header>
  <h1>ðŸš€ SpaceTravelHub</h1>
  <a href="map3d.html" class="btn">3D Space View</a>
  <a href="map2d.html" class="btn">2D Space Map</a>
</header>

<div class="mission-grid" id="missionContainer"></div>

<script>
const apiURL = "https://script.google.com/macros/s/AKfycbxxQaRV6aV4hZfaDqI29E8JihEgnmer0lgne-GNNZCiZqqL5XckER5VQMSCEC_3z_fq/exec";

async function loadMissions() {
  try {
    const res = await fetch(apiURL);
    const missions = await res.json();

    let container = document.getElementById("missionContainer");
    container.innerHTML = "";

    missions.forEach(mission => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <img src="${mission.image}" alt="${mission.mission}">
        <h3>${mission.mission}</h3>
        <p>Agency: ${mission.agency}</p>
        <p>Status: ${mission.status}</p>
        <p>Launch: ${mission.launch}</p>
        <p style="font-size:12px">${mission.summary}</p>
      `;

      card.addEventListener("click", () => {
        window.location.href = `mission/index.html?name=${encodeURIComponent(mission.mission)}`;
      });

      container.appendChild(card);
    });

  } catch (err) {
    console.error("Error loading missions", err);
  }
}

loadMissions();
</script>

</body>
</html>