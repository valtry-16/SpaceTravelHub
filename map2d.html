<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>2D Global Map - SpaceTravelHub</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
html, body {
  height: 100%;
  margin: 0;
  background:black;
  font-family: "Orbitron", sans-serif;
  color: cyan;
}
#map { height: 100%; }

.hud {
  position: absolute;
  top: 15px;
  left: 15px;
  padding: 10px 20px;
  border: 1px solid cyan;
  background: rgba(0,0,0,0.6);
  color: cyan;
  border-radius: 8px;
  font-size: 14px;
  backdrop-filter: blur(6px);
  text-shadow: 0 0 10px cyan;
}
</style>
</head>
<body>

<div class="hud">üåç Live Mission Locations</div>
<div id="map"></div>

<script>
const apiURL = "https://script.google.com/macros/s/AKfycbxxQaRV6aV4hZfaDqI29E8JihEgnmer0lgne-GNNZCiZqqL5XckER5VQMSCEC_3z_fq/exec";

const map = L.map("map").setView([20,0],2);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", { maxZoom: 8 }).addTo(map);

async function loadPoints(){
  const res = await fetch(apiURL);
  const missions = await res.json();

  missions.forEach(m => {
    if(!m.lat || !m.lng) return;

    L.marker([m.lat, m.lng]).addTo(map)
      .bindPopup(`
        <b>${m.mission}</b><br>
        Agency: ${m.agency}<br>
        Status: ${m.status}<br>
        Altitude: ${m.alt} km
      `);
  });
}
loadPoints();
</script>
</body>
</html>